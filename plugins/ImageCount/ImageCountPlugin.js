!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var n;n=function(){"use strict";var t=function(t){var e=t.id,n=t.viewBox,r=t.content;this.id=e,this.viewBox=n,this.content=r};function n(t,e){return t(e={exports:{}},e.exports),e.exports}t.prototype.stringify=function(){return this.content},t.prototype.toString=function(){return this.stringify()},t.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach((function(e){return delete t[e]}))},"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var r=n((function(t,e){t.exports=function(){function t(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(e,n){var i;return n&&!0===n.clone&&t(e)?r((i=e,Array.isArray(i)?[]:{}),e,n):e}function n(n,i,o){var a=n.slice();return i.forEach((function(i,s){void 0===a[s]?a[s]=e(i,o):t(i)?a[s]=r(n[s],i,o):-1===n.indexOf(i)&&a.push(e(i,o))})),a}function r(i,o,a){var s=Array.isArray(o),c=(a||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(i)?c(i,o,a):e(o,a):function(n,i,o){var a={};return t(n)&&Object.keys(n).forEach((function(t){a[t]=e(n[t],o)})),Object.keys(i).forEach((function(s){t(i[s])&&n[s]?a[s]=r(n[s],i[s],o):a[s]=e(i[s],o)})),a}(i,o,a)}return r.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return r(t,n,e)}))},r}()})),i=n((function(t,e){e.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},t.exports=e.default})),o=i.svg,a=i.xlink,s={};s[o.name]=o.uri,s[a.name]=a.uri;var c=function(t,e){return void 0===t&&(t=""),"<svg "+function(t){return Object.keys(t).map((function(e){return e+'="'+t[e].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(s,e||{}))+">"+t+"</svg>"};return function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"==typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n}(c(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,n),e}(t)},t.exports=n()}).call(this,n(0))},function(t,e,n){(function(e){var n;n=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var n=t((function(t,e){t.exports=function(){function t(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(e,n){var i;return n&&!0===n.clone&&t(e)?r((i=e,Array.isArray(i)?[]:{}),e,n):e}function n(n,i,o){var a=n.slice();return i.forEach((function(i,s){void 0===a[s]?a[s]=e(i,o):t(i)?a[s]=r(n[s],i,o):-1===n.indexOf(i)&&a.push(e(i,o))})),a}function r(i,o,a){var s=Array.isArray(o),c=(a||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(i)?c(i,o,a):e(o,a):function(n,i,o){var a={};return t(n)&&Object.keys(n).forEach((function(t){a[t]=e(n[t],o)})),Object.keys(i).forEach((function(s){t(i[s])&&n[s]?a[s]=r(n[s],i[s],o):a[s]=e(i[s],o)})),a}(i,o,a)}return r.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return r(t,n,e)}))},r}()})),r=t((function(t,e){e.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},t.exports=e.default})),i=r.svg,o=r.xlink,a={};a[i.name]=i.uri,a[o.name]=o.uri;var s,c=function(t,e){return void 0===t&&(t=""),"<svg "+function(t){return Object.keys(t).map((function(e){return e+'="'+t[e].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(a,e||{}))+">"+t+"</svg>"},d=r.svg,l=r.xlink,u={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},s[d.name]=d.uri,s[l.name]=l.uri,s)},f=function(t){this.config=n(u,t||{}),this.symbols=[]};f.prototype.add=function(t){var e=this.symbols,n=this.find(t.id);return n?(e[e.indexOf(n)]=t,!1):(e.push(t),!0)},f.prototype.remove=function(t){var e=this.symbols,n=this.find(t);return!!n&&(e.splice(e.indexOf(n),1),n.destroy(),!0)},f.prototype.find=function(t){return this.symbols.filter((function(e){return e.id===t}))[0]||null},f.prototype.has=function(t){return null!==this.find(t)},f.prototype.stringify=function(){var t=this.config.attrs,e=this.symbols.map((function(t){return t.stringify()})).join("");return c(e,t)},f.prototype.toString=function(){return this.stringify()},f.prototype.destroy=function(){this.symbols.forEach((function(t){return t.destroy()}))};var h=function(t){var e=t.id,n=t.viewBox,r=t.content;this.id=e,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach((function(e){return delete t[e]}))};var g=function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n},p=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"==typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return g(c(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,n),e}(h),m={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},y=function(t){return Array.prototype.slice.call(t,0)},v=function(){return/firefox/i.test(navigator.userAgent)},w=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},x=function(){return/edge/i.test(navigator.userAgent)},_=function(t){return(t||window.location.href).split("#")[0]},C=function(t){angular.module("ng").run(["$rootScope",function(e){e.$on("$locationChangeSuccess",(function(e,n,r){var i,o,a;i=t,o={oldUrl:r,newUrl:n},(a=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,o),window.dispatchEvent(a)}))}])},b=function(t,e){return void 0===e&&(e="linearGradient, radialGradient, pattern, mask, clipPath"),y(t.querySelectorAll("symbol")).forEach((function(t){y(t.querySelectorAll(e)).forEach((function(e){t.parentNode.insertBefore(e,t)}))})),t},S=r.xlink.uri,M=/[{}|\\\^\[\]`"<>]/g;function E(t){return t.replace(M,(function(t){return"%"+t[0].charCodeAt(0).toString(16).toUpperCase()}))}var k,I=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],O=I.map((function(t){return"["+t+"]"})).join(","),B=function(t,e,n,r){var i=E(n),o=E(r);(function(t,e){return y(t).reduce((function(t,n){if(!n.attributes)return t;var r=y(n.attributes),i=e?r.filter(e):r;return t.concat(i)}),[])})(t.querySelectorAll(O),(function(t){var e=t.localName,n=t.value;return-1!==I.indexOf(e)&&-1!==n.indexOf("url("+i)})).forEach((function(t){return t.value=t.value.replace(new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),o)})),function(t,e,n){y(t).forEach((function(t){var r=t.getAttribute("xlink:href");if(r&&0===r.indexOf(e)){var i=r.replace(e,n);t.setAttributeNS(S,"xlink:href",i)}}))}(e,i,o)},A="mount",D="symbol_mount",j=function(t){function e(e){var r=this;void 0===e&&(e={}),t.call(this,n(m,e));var i,o=(i=i||Object.create(null),{on:function(t,e){(i[t]||(i[t]=[])).push(e)},off:function(t,e){i[t]&&i[t].splice(i[t].indexOf(e)>>>0,1)},emit:function(t,e){(i[t]||[]).map((function(t){t(e)})),(i["*"]||[]).map((function(n){n(t,e)}))}});this._emitter=o,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(e),a.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");o.on(A,(function(){return r.updateUrls("#",s)}))}var c=this._handleLocationChange.bind(this);this._handleLocationChange=c,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,c),a.locationChangeAngularEmitter&&C(a.locationChangeEvent),o.on(A,(function(t){a.moveGradientsOutsideSymbol&&b(t)})),o.on(D,(function(t){var e;a.moveGradientsOutsideSymbol&&b(t.parentNode),(w()||x())&&(e=[],y(t.querySelectorAll("style")).forEach((function(t){t.textContent+="",e.push(t)})))}))}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},e.prototype._autoConfigure=function(t){var e=this.config;void 0===t.syncUrlsWithBaseTag&&(e.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===t.locationChangeAngularEmitter&&(e.locationChangeAngularEmitter=void 0!==window.angular),void 0===t.moveGradientsOutsideSymbol&&(e.moveGradientsOutsideSymbol=v())},e.prototype._handleLocationChange=function(t){var e=t.detail,n=e.oldUrl,r=e.newUrl;this.updateUrls(n,r)},e.prototype.add=function(e){var n=t.prototype.add.call(this,e);return this.isMounted&&n&&(e.mount(this.node),this._emitter.emit(D,e.node)),n},e.prototype.attach=function(t){var e=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof t?document.querySelector(t):t;return n.node=r,this.symbols.forEach((function(t){t.mount(n.node),e._emitter.emit(D,t.node)})),y(r.querySelectorAll("symbol")).forEach((function(t){var e=p.createFromExistingNode(t);e.node=t,n.add(e)})),this._emitter.emit(A,r),r},e.prototype.destroy=function(){var t=this.config,e=this.symbols,n=this._emitter;e.forEach((function(t){return t.destroy()})),n.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},e.prototype.mount=function(t,e){if(void 0===t&&(t=this.config.mountTo),void 0===e&&(e=!1),this.isMounted)return this.node;var n="string"==typeof t?document.querySelector(t):t,r=this.render();return this.node=r,e&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(A,r),r},e.prototype.render=function(){return g(this.stringify())},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},e.prototype.updateUrls=function(t,e){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return B(this.node,n,_(t)+"#",_(e)+"#"),!0},Object.defineProperties(e.prototype,r),e}(f),P=t((function(t){var e,n,r,i,o;t.exports=(n=[],r=document,i=r.documentElement.doScroll,(o=(i?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState))||r.addEventListener("DOMContentLoaded",e=function(){for(r.removeEventListener("DOMContentLoaded",e),o=1;e=n.shift();)e()}),function(t){o?setTimeout(t,0):n.push(t)})}));window.__SVG_SPRITE__?k=window.__SVG_SPRITE__:(k=new j({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=k);var L=function(){var t=document.getElementById("__SVG_SPRITE_NODE__");t?k.attach(t):k.mount(document.body,!0)};return document.body?L():P(L),k},t.exports=n()}).call(this,n(0))},function(t,e,n){n(4),n(5);var r="ImageCountPlugin",i=gmxCore.getModulePath("ImageCountPlugin"),o=n(6),a=n(7),s={pluginName:"ImageCountPlugin",afterViewer:function(t,e){var n={modulePath:i,layers:{"9132DB4583944CC2836D2C416B4DC093":"Sentinel-1","61F54CF35EC44536B527A2168BE6F5A0":"Sentinel-2",D8CFA7D3A7AA4549B728B37010C051A2:"Landsat-8"}};if(t.layers)try{n.layers=JSON.parse(t.layers)}catch(t){console.log(t)}var s=new a(n),c=new o(s);c.menuId=r;var d=window.iconSidebarWidget,l=window.createTabFunction({icon:"ImageCount",hint:_gtxt("ImageCount.title")})(),u=l.querySelector(".ImageCount");c.sidebarPane=d.setPane(r,{createTab:function(){return!l.querySelector(".ImageCount")&&l.append(u),l.querySelector(".ImageCount").innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" class="svgIcon" xmlns="http://www.w3.org/2000/svg">\n                     <path d="M11.0181 0H0.847543C0.379458 0 0 0.379203 0 0.846973V13.5516C0 14.0193 0.379458 14.3985 0.847543 14.3985H11.0181C11.4861 14.3985 11.8656 14.0193 11.8656 13.5516V0.846973C11.8656 0.379203 11.4861 0 11.0181 0Z"></path>\n                     <path d="M19.374 6.071L13.815 4.56763L13.3726 6.20313L18.1188 7.48545L15.238 18.1133L5.42009 15.4614L4.97852 17.0969L15.6152 19.9707C15.7226 19.9997 15.8348 20.0072 15.9451 19.9929C16.0555 19.9785 16.162 19.9426 16.2585 19.8872C16.355 19.8317 16.4396 19.7578 16.5075 19.6697C16.5754 19.5816 16.6253 19.481 16.6543 19.3736L19.9707 7.10939C20.0293 6.89263 19.9994 6.66148 19.8875 6.46676C19.7756 6.27205 19.5909 6.1297 19.374 6.071Z"></path>\n                     </svg>',l}}),d.addEventListener("opened",(function(t){d._activeTabId==r&&c.show()}))}};gmxCore.addModule("ImageCountPlugin",s,{css:"ImageCountPlugin.css"})},function(t,e,n){},function(t,e){_translationsHash.addtext("rus",{ImageCount:{title:"Подсчет снимков",Polygon:"Многоугольник",MultiPolygon:"Многоугольники",vertices:"вершин",SelectBorder:"Выберите контур территории клиента",SelectSystem:"Выберите съемочную систему",SelectInterval:"Укажите предполагаемый срок подписки",calendar_today:"сегодня",NoSystem:"Система не выбрана",NoBorder:"Район не задан",Count:"РАССЧИТАТЬ",Result:"Количество сцен съемки",error:"Ошибка!"}}),_translationsHash.addtext("eng",{ImageCount:{title:"Image Count",Polygon:"Polygon",MultiPolygon:"Polygons",vertices:"vertices",SelectBorder:"Select client territory border",SelectSystem:"Select system",SelectInterval:"Select subscription interval",calendar_today:"today",NoSystem:"No system",NoBorder:"No border",Count:"COUNT",Result:"Images found",error:"Error!"}})},function(t,e){t.exports=function(t){var e,n=!1,r=$("<div>")[0],i=t.create(),o=function(){$(this.sidebarPane).append(r),$(r).append(i.map((function(t){return t.frame}))),i[0].resize(!0),i[0].show(),e=i[0],n=!0};return{show:function(){n?e&&e.show():o.call(this)}}}},function(t,e,n){var r=n(8),i=n(13);t.exports=function(t){var e=new i,n=new r(t.layers,e);return{create:function(){return[n]}}}},function(t,e,n){n(9),n(10);var r=n(11);Calendar=n(12);var i=function(t,e){var n=this,i=[],o=[],a=function(t){n.frame.find(".choose").click(),n.model.polygon=t.target};r.call(this,e),this.frame=$('<div class="imagecount-view">\n        <div class="header">\n        <div class="select-label label1">'.concat(_gtxt("ImageCount.SelectSystem"),'</div>\n        <div class="system">\n        ').concat(Object.keys(t).map((function(e){return'<label><input id="system" name="system" type="radio" value="'.concat(e,'">').concat(t[e],"</label><br>")})).join(""),'\n        </div>\n        <div class="but choose">').concat(_gtxt("ImageCount.SelectBorder"),'<svg><use xlink:href="#icons_selectreg"></use></svg></div>\n        \n        <style>#ui-datepicker-div .ui-datepicker-next {height: 1.8em !important;}#ui-datepicker-div .ui-datepicker-next span.ui-icon.ui-icon-circle-triangle-e {background: url(img/arrows.png) no-repeat 0 -18px !important;}#ui-datepicker-div .ui-datepicker-next.ui-state-hover span.ui-icon.ui-icon-circle-triangle-e {background: url(img/arrows.png) no-repeat 0 -38px !important;}</style>    \n \n        <div class="select-label label2">').concat(_gtxt("ImageCount.SelectInterval"),'</div>       \n        <div class="calendar" style="padding: 0px 0 20px 20px;"></div>      \n        <div><div class="but-count">').concat(_gtxt("ImageCount.Count"),'</div></div>\n        </div>\n        <div class="results"></div>\n        </div>')),this.container=this.frame.find(".results"),this.frame.find(".system input").on("click",(function(t){n.model.system=t.target.value})),this.frame.find(".but-count").on("click",(function(t){n.container.find(".params .count").text(""),n.inProgress(!0),n.model.count().catch((function(t){n.inProgress(!1),"polygon"!=t&&"system"!=t||n.container.find(".exclamation").show(),console.log(t)}))})),this.frame.find(".choose").on("click",(function(t){var e=nsGmx.leafletMap.gmxDrawing.items,n=nsGmx.leafletMap._layers;$(t.target).toggleClass("active"),$(t.target).is(".active")?(i.length=0,o.length=0,e.forEach((function(t){var e=t.options.type.toLowerCase();"rectangle"!=e&&"polygon"!=e||(i.push(t),t.disableEdit())})),Object.keys(n).forEach((function(t){var e=n[t],r=e.feature&&e.feature.geometry.type.toLowerCase();"polygon"!=r&&"multipolygon"!=r&&"rectangle"!=r||(n[t].on("click",a),o.push(n[t]))}))):(o.forEach((function(t){return t.off("click",a)})),i.forEach((function(t){return t.enableEdit()})),i.length=0,o.length=0)})),this.drawTable=function(t){var e=t.polygon,n=this.frame.find(".CalendarWidget-dateBegin").val(),r=this.frame.find(".CalendarWidget-dateEnd").val(),i=t.result,o=this.frame.find(".system input:checked").parent(),a='<div class="params">';if(a+="<div>".concat(o[0]?o.text():_gtxt("ImageCount.NoSystem")+' <span class="exclamation">!</span>',"</div>"),e){var s=e.feature.geometry;"Polygon"==s.type?a+='<div class="polygon">'.concat(_gtxt("ImageCount.Polygon"),", ").concat(_gtxt("ImageCount.vertices"),": ").concat(s.coordinates[0].length-1,"</div>"):a+='<div class="polygon">'.concat(_gtxt("ImageCount.MultiPolygon"),": ").concat(s.coordinates.length,"</div>"),a+="<div>".concat(e._popup?e._popup._content.replace(/<br\/?>[\s\S]+/i,""):"","</div>")}else a+="<div>".concat(_gtxt("ImageCount.NoBorder"),' <span class="exclamation">!</span></div>');return a+="<div>".concat(n," - ").concat(r,"</div>"),null!==i&&(a+='<div class="count">'.concat(_gtxt("ImageCount.Result"),": ").concat(i,"</div>")),a+='<div class="icon-refresh-gif refresh"></div>'},Object.defineProperty(this,"topOffset",{get:function(){return this.frame.find(".header")[0]&&this.frame.find(".header")[0].getBoundingClientRect().height}}),Object.defineProperty(this,"bottomOffset",{get:function(){return 20}}),function(){var t=this.frame.find(".calendar")[0];t.innerHTML='<span class="ui-helper-hidden-accessible"><input type="text"/></span>';var e=nsGmx.widgets.commonCalendar.getDateInterval(),n=new nsGmx.DateInterval;n.set("dateBegin",e.get("dateBegin")).set("dateEnd",e.get("dateEnd")),this.calendar=new Calendar({dateInterval:n,name:"catalogInterval",container:t,dateFormat:"dd.mm.yy",minimized:!1,showSwitcher:!1});var r=t.querySelector("tr:nth-of-type(1)");r.insertCell(2).innerHTML="&nbsp; - &nbsp;",r.insertCell(6).innerHTML='<img class="default_date" style="cursor:pointer; padding:10px" title="'+_gtxt("ImageCount.calendar_today")+'" src="plugins/AIS/AISSearch/svg/calendar.svg">',t.querySelector(".default_date").addEventListener("click",(function(){var t=nsGmx.DateInterval.getUTCDayBoundary(new Date);n.set({dateBegin:t.dateBegin,dateEnd:t.dateEnd})}))}.call(this),this.model.interval=this.calendar.dateInterval};(i.prototype=Object.create(r.prototype)).inProgress=function(t){var e=this.frame.find("div.refresh");t?e.show():e.hide()},i.prototype.repaint=function(){var t=this;r.prototype.repaint.call(this),this.container.find(".polygon").on("click",(function(){nsGmx.leafletMap.fitBounds(t.model.data.polygon._bounds)}))},t.exports=i},function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=new i.a({id:"icons",use:"icons-usage",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icons">\r\n\r\n<symbol id="icons_arrow-left" viewBox="0 0 20 20" fill="none">\r\n<path d="M18.3334 10H1.66669" stroke="currentColor" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />\r\n<path d="M7.50002 15.8333L1.66669 9.99996L7.50002 4.16663" stroke="currentColor" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />\r\n</symbol>\r\n<symbol id="icons_arrow-right" viewBox="0 0 20 20" fill="none">\r\n<path d="M18.3334 10H1.66669" stroke="currentColor" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />\r\n<path d="M7.50002 15.8333L1.66669 9.99996L7.50002 4.16663" stroke="currentColor" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" transform="rotate(180 10 10)" />\r\n</symbol>\r\n\r\n<symbol id="icons_eye" viewBox="4 4 16 16" fill="none">\r\n<path d="M11.93,7.28C8.87,7.28,6.1,9,4.05,11.88a0.69,0.69,0,0,0,0,.79c2,2.85,4.82,4.61,7.87,4.61s5.83-1.75,7.87-4.6a0.69,0.69,0,0,0,0-.79C17.75,9,15,7.28,11.93,7.28Zm0.22,8.52A3.45,3.45,0,0,1,8.57,12a3.46,3.46,0,0,1,3.14-3.29,3.45,3.45,0,0,1,3.58,3.75A3.47,3.47,0,0,1,12.14,15.8ZM12,14.17a1.9,1.9,0,1,1,1.69-1.77A1.85,1.85,0,0,1,12,14.17Z" fill="currentColor" />\r\n</symbol>\r\n\r\n<symbol id="icons_eye-off" viewBox="4 4 16 16" fill="none">\r\n      <polygon points="18.68 20.13 4 5.38 5.32 4.13 20 18.87 18.68 20.13" fill="currentColor" />\r\n      <path fill="currentColor" d="M12.06,8.77A3.42,3.42,0,0,1,15.26,12L18,14.72a13.33,13.33,0,0,0,1.81-2,0.69,0.69,0,0,0,0-.79C17.75,9,15,7.28,11.92,7.28a7.94,7.94,0,0,0-1.25.11Z" />\r\n      <path fill="currentColor" d="M12,14.17a1.83,1.83,0,0,0,1.58-1.26l-2.38-2.39a1.9,1.9,0,0,0-1.12,1.63A1.85,1.85,0,0,0,12,14.17Z" />\r\n      <path fill="currentColor" d="M14.79,14.09a3.35,3.35,0,0,1-2.65,1.71A3.45,3.45,0,0,1,8.57,12a3.56,3.56,0,0,1,1.5-2.7L8.69,8a11.38,11.38,0,0,0-4.64,3.92,0.69,0.69,0,0,0,0,.79c2,2.85,4.82,4.61,7.87,4.61a8.44,8.44,0,0,0,4.61-1.43Z" />\r\n</symbol>\r\n\r\n<symbol id="icons_circle" viewBox="0 0 16 16" fill="currentColor">\r\n<circle cx="8" cy="8" r="8" />\r\n</symbol>\r\n\r\n<symbol id="icons_pen" viewBox="0 0 12 12" fill="currentColor">\r\n<g xmlns="http://www.w3.org/2000/svg">\r\n\t<path d="M6.1,2.6L0.2,8.5C0.1,8.6,0,8.8,0,9v2.3C0,11.7,0.3,12,0.8,12H3c0.2,0,0.4-0.1,0.5-0.2l5.9-5.8L6.1,2.6z" />\r\n\t<path d="M11.8,2.5L9.5,0.2c-0.3-0.3-0.8-0.3-1,0L7.1,1.6l3.3,3.3l1.4-1.4C12.1,3.2,12.1,2.8,11.8,2.5z" />\r\n</g>\r\n</symbol>\r\n\r\n<symbol id="icons_target" viewBox="0 0 12 12" fill="currentColor">\r\n<g xmlns="http://www.w3.org/2000/svg">\r\n\t<rect x="0" width="1.5" height="4.5" />\t\r\n\t\t<rect x="1.5" y="-1.5" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 2.9945 -1.4945)" width="1.5" height="4.5" />\t\r\n\t\t<rect x="9" y="-1.5" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 10.4951 -8.9951)" width="1.5" height="4.5" />\r\n\t<rect x="10.5" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 22.4863 4.5)" width="1.5" height="4.5" />\r\n\t<rect x="10.5" y="7.5" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 22.4967 19.5)" width="1.5" height="4.5" />\r\n\t<rect x="9" y="9" transform="matrix(6.123234e-17 -1 1 6.123234e-17 -1.4997 21.0003)" width="1.5" height="4.5" />\r\n\t<rect x="1.5" y="9" transform="matrix(6.123234e-17 -1 1 6.123234e-17 -9.0003 13.4997)" width="1.5" height="4.5" />\r\n\t<rect x="0" y="7.5" width="1.5" height="4.5" />\r\n\t<ellipse cx="6" cy="6" rx="2.2" ry="2.3" />\r\n</g>\r\n</symbol>\r\n\r\n<symbol id="icons_info" viewBox="2 2 20 20" fill="currentColor">\r\n<g class="nc-icon-wrapper" fill="currentColor">\r\n<path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z" />\r\n</g>\r\n</symbol>\r\n\r\n<symbol id="icons_polygon" viewBox="4 0 20 20" fill="currentColor">\r\n      <rect x="6.04" y="8.9" width="2.05" height="0.97" transform="translate(-4.65 10.2) rotate(-57.04)" /><rect x="10.84" y="6.25" width="2.05" height="0.97" /><rect x="10.84" y="16.89" width="2.05" height="0.97" /><rect x="6.58" y="13.65" width="0.97" height="2.05" transform="translate(-6.85 6.2) rotate(-32.96)" /><path d="M8.68,6.28a0.45,0.45,0,1,1-.45.45,0.45,0.45,0,0,1,.45-0.45m0-1a1.45,1.45,0,1,0,1.45,1.45A1.45,1.45,0,0,0,8.68,5.28h0Z" /><path d="M8.68,16.87a0.45,0.45,0,1,1-.45.45,0.45,0.45,0,0,1,.45-0.45m0-1a1.45,1.45,0,1,0,1.45,1.45,1.45,1.45,0,0,0-1.45-1.45h0Z" /><path d="M5.45,11.58A0.45,0.45,0,1,1,5,12a0.45,0.45,0,0,1,.45-0.45m0-1A1.45,1.45,0,1,0,6.9,12a1.45,1.45,0,0,0-1.45-1.45h0Z" /><rect x="15.91" y="14.14" width="2.05" height="0.97" transform="translate(-4.55 20.88) rotate(-57.04)" /><rect x="16.45" y="8.31" width="0.97" height="2.05" transform="translate(-2.35 10.72) rotate(-32.96)" /><path d="M15.32,16.82a0.45,0.45,0,1,1-.45.45,0.45,0.45,0,0,1,.45-0.45m0-1a1.45,1.45,0,1,0,1.45,1.45,1.45,1.45,0,0,0-1.45-1.45h0Z" /><path d="M15.32,6.24a0.45,0.45,0,1,1-.45.45,0.45,0.45,0,0,1,.45-0.45m0-1a1.45,1.45,0,1,0,1.45,1.45,1.45,1.45,0,0,0-1.45-1.45h0Z" /><path d="M18.55,11.53a0.45,0.45,0,1,1-.45.45,0.45,0.45,0,0,1,.45-0.45m0-1A1.45,1.45,0,1,0,20,12a1.45,1.45,0,0,0-1.45-1.45h0Z" />\r\n</symbol>\r\n\r\n<symbol id="icons_selectreg" viewBox="12 13 24 20" fill="currentColor">\r\n    <path d="m 21.099609,8.4511719 c -1.469868,0 -2.548828,1.0789594 -2.548828,2.5488281 l 0,10.300781 a 0.45145663,0.45145663 0 0 1 -0.794922,0.291016 c -1.069223,-1.263628 -2.20723,-2.140625 -3.15625,-2.140625 -0.799555,0 -1.440052,0.272383 -1.724609,0.699219 a 0.45145663,0.45145663 0 0 1 -0.02344,0.03125 c -0.304031,0.380039 -0.58479,1.101873 -0.220703,2.285156 0.363172,1.180307 2.071447,4.826112 3.949219,7.791015 0.686643,1.07901 1.37235,1.961753 1.960938,2.648438 a 0.45145663,0.45145663 0 0 1 0.01367,0.01367 c 1.100572,1.400729 1.896484,2.439482 1.896484,4.080078 0,0.199686 0.05878,0.322449 0.142578,0.40625 0.0838,0.0838 0.206564,0.142578 0.40625,0.142578 l 12,0 c 0.199686,0 0.322449,-0.05878 0.40625,-0.142578 0.0838,-0.0838 0.142578,-0.206564 0.142578,-0.40625 0,-2.462696 0.514524,-4.413564 1.013672,-6.410156 C 35.061648,28.593252 35.548828,26.542127 35.548828,24 l 0,-3 c 0,-1.469869 -1.078959,-2.548828 -2.548828,-2.548828 -0.325352,0 -0.686138,0.08548 -0.957031,0.175781 A 0.45145663,0.45145663 0 0 1 31.46875,18.332031 C 31.119977,17.19852 30.206706,16.451172 29,16.451172 c -0.439576,0 -0.8348,0.08997 -1.128906,0.310547 a 0.45145663,0.45145663 0 0 1 -0.654297,-0.123047 c -0.424766,-0.679626 -1.181444,-1.1875 -2.117188,-1.1875 -0.325352,0 -0.55809,0.076 -0.857421,0.175781 a 0.45145663,0.45145663 0 0 1 -0.59375,-0.427734 l 0,-4.199219 c 0,-1.4698687 -1.07896,-2.5488281 -2.548829,-2.5488281 z M 21,9.5488281 c 0.400314,0 0.778723,0.1400511 1.044922,0.40625 0.266199,0.2661989 0.40625,0.6446079 0.40625,1.0449219 l 0,9 c 0,0.199686 0.05878,0.322449 0.142578,0.40625 0.0838,0.0838 0.206564,0.142578 0.40625,0.142578 0.199686,0 0.322449,-0.05878 0.40625,-0.142578 0.0838,-0.0838 0.142578,-0.206564 0.142578,-0.40625 l 0,-2 c 0,-0.400314 0.140051,-0.778723 0.40625,-1.044922 0.266199,-0.266199 0.644608,-0.40625 1.044922,-0.40625 0.400314,0 0.778723,0.140051 1.044922,0.40625 0.266199,0.266199 0.40625,0.644608 0.40625,1.044922 l 0,3 c 0,0.199686 0.05878,0.322449 0.142578,0.40625 0.0838,0.0838 0.206564,0.142578 0.40625,0.142578 0.199686,0 0.322449,-0.05878 0.40625,-0.142578 0.0838,-0.0838 0.142578,-0.206564 0.142578,-0.40625 l 0,-2 c 0,-0.400314 0.140051,-0.778723 0.40625,-1.044922 0.266199,-0.266199 0.644608,-0.40625 1.044922,-0.40625 0.400314,0 0.778723,0.140051 1.044922,0.40625 0.266199,0.266199 0.40625,0.644608 0.40625,1.044922 l 0,3 c 0,0.199686 0.05878,0.322449 0.142578,0.40625 0.0838,0.0838 0.206564,0.142578 0.40625,0.142578 0.199686,0 0.322449,-0.05878 0.40625,-0.142578 0.0838,-0.0838 0.142578,-0.206564 0.142578,-0.40625 l 0,-1 c 0,-0.400314 0.140051,-0.778723 0.40625,-1.044922 0.266199,-0.266199 0.644608,-0.40625 1.044922,-0.40625 0.400314,0 0.778723,0.140051 1.044922,0.40625 0.266199,0.266199 0.40625,0.644608 0.40625,1.044922 l 0,3 c 0,2.365422 -0.514537,4.312055 -1.013672,6.308594 l 0.0039,-0.01172 c -0.40345,1.815526 -0.892826,3.579678 -0.990234,5.722656 A 0.45145663,0.45145663 0 0 1 32,36.451172 l -10.099609,0 A 0.45145663,0.45145663 0 0 1 21.451172,36.052734 C 21.268949,34.50384 20.366883,33.503929 19.267578,32.304688 a 0.45145663,0.45145663 0 0 1 -0.0293,-0.0332 c -0.588009,-0.784011 -1.201373,-1.503012 -1.820312,-2.533203 l -0.002,-0.002 c -8.56e-4,-0.0014 -0.0011,-0.0025 -0.002,-0.0039 -1.007254,-1.612144 -1.886276,-3.221277 -2.554687,-4.570313 -0.669307,-1.350844 -1.123882,-2.415821 -1.294922,-3.042968 a 0.45145663,0.45145663 0 0 1 -0.0078,-0.03125 c -0.05341,-0.267047 -0.08399,-0.487278 -0.08399,-0.6875 0,-0.200222 -8.21e-4,-0.409335 0.208985,-0.619141 0.156606,-0.156607 0.331654,-0.197642 0.466797,-0.216797 0.135142,-0.01916 0.251856,-0.01563 0.351562,-0.01563 0.379126,0 0.656448,0.179905 0.982422,0.419922 0.325974,0.240017 0.676911,0.568581 1.03125,0.96875 0.708677,0.800338 1.432333,1.886537 1.90625,3.097656 a 0.45145663,0.45145663 0 0 1 0.03125,0.164063 l 0,0.800781 c 0,0.199686 0.05878,0.322449 0.142578,0.40625 0.0838,0.0838 0.206564,0.142578 0.40625,0.142578 0.199686,0 0.322449,-0.05878 0.40625,-0.142578 0.0838,-0.0838 0.142578,-0.206564 0.142578,-0.40625 l 0,-15 c 0,-0.400314 0.140051,-0.778723 0.40625,-1.0449219 C 20.221277,9.6888792 20.599686,9.5488281 21,9.5488281 Z" />\r\n</symbol>\r\n\r\n</symbol>'});a.a.add(s);e.default=s},function(t,e,n){},function(t,e){var n=function(){var t=this.container.find(".mCSB_container");t[0]?t.empty():this.container.empty()},r=function(t){t.view=this,this.model=t,this.gifLoader='<img src="img/progress.gif">'};r.prototype={get isActive(){return this.frame.is(":visible")},resize:function(t){if(this.frame){var e=$(".iconSidebarControl-pane").height()-this.topOffset-this.bottomOffset;this.container.height(e),t&&this.container.empty()}},repaint:function(){if(n.call(this),this.inProgress(!1),this.model.data){var t=this.container.find(".mCSB_container"),e=$(this.drawTable(this.model.data));t[0]?$(t).append(e):this.container.append(e).mCustomScrollbar(this.mcsbOptions)}},show:function(){this.frame&&(this.frame.show(),this.model.update())},hide:function(){this.frame.hide()},get isVisible(){var t=this.frame[0].getBoundingClientRect();return 0!=t.width&&0!=t.height}},t.exports=r},function(t,e){var n=nsGmx.DateInterval.toMidnight,r=function(t){if(!t)return null;var e=60*t.getTimezoneOffset()*1e3;return new Date(t.valueOf()-e)},i=function(t){if(!t)return null;var e=60*t.getTimezoneOffset()*1e3;return new Date(t.valueOf()+e)},o=function(t){if(this._curMode===t)return this;this._dateInputs.datepicker("hide"),this._curMode=t;var e=1===t;$el.find(".CalendarWidget-onlyMaxVersion").toggle(!e),this._moreIcon.toggleClass("icon-calendar",e).toggleClass("icon-calendar-empty",!e).attr("title",e?_gtxt("CalendarWidget.ExtendedViewTitle"):_gtxt("CalendarWidget.MinimalViewTitle"));var n=this._dateBegin.datepicker("getDate"),r=this._dateEnd.datepicker("getDate");return e&&n&&r&&n.valueOf()!==r.valueOf()&&(a.call(this,this._dateEnd),s().call(this)),this},a=function(t){var e=this._dateBegin.datepicker("getDate"),n=this._dateEnd.datepicker("getDate");n&&e&&e>n?(t[0]==this._dateEnd[0]?this._dateBegin:this._dateEnd).datepicker("setDate",$(t[0]).datepicker("getDate")):1===this._curMode&&(!e!=!n||e&&e.valueOf()!==n.valueOf())&&this._dateEnd.datepicker("setDate",this._dateBegin.datepicker("getDate"))},s=function(){var t=r(this._dateBegin.datepicker("getDate")),e=r(this._dateEnd.datepicker("getDate"));this.dateInterval.set({dateBegin:t?n(t):null,dateEnd:e?n(e.valueOf()+nsGmx.DateInterval.MS_IN_DAY):null})},c=function(){var t=this.dateInterval.get("dateBegin"),e=this.dateInterval.get("dateEnd"),n=nsGmx.DateInterval.MS_IN_DAY;if(t&&e){var r,a=!(t%n||e%n),s=i(t);a?(r=i(new Date(e-n)),e-t>n&&o.call(this,2)):(r=i(e),o.call(this,2));var c=this._dateBegin.datepicker("getDate"),d=this._dateEnd.datepicker("getDate");c&&c.valueOf()===s.valueOf()||this._dateBegin.datepicker("setDate",s),d&&d.valueOf()===r.valueOf()||this._dateEnd.datepicker("setDate",r)}},d=function(t){var e=r(this._dateBegin.datepicker("getDate")),o=r(this._dateEnd.datepicker("getDate"));if(e&&o){var a=(o-e+nsGmx.DateInterval.MS_IN_DAY)*t,c=new Date(e.valueOf()+a),d=new Date(o.valueOf()+a);(!this._dateMin||n(this._dateMin)<=n(c))&&(!this._dateMax||n(this._dateMax)>=n(d))&&(this._dateBegin.datepicker("setDate",i(c)),this._dateEnd.datepicker("setDate",i(d)),s.call(this))}};t.exports=function(t){$el=$('<div class="CalendarWidget ui-widget"></div>'),this.template=Handlebars.compile('\n    <table>\n    <tr>\n        <td><div class = "CalendarWidget-iconScrollLeft ui-helper-noselect icon-left-open"></div></td>\n        <td class = "CalendarWidget-inputCell"><input class = "gmx-input-text CalendarWidget-dateBegin"></td>\n        <td class = "CalendarWidget-inputCell CalendarWidget-onlyMaxVersion"><input class = "gmx-input-text CalendarWidget-dateEnd"></td>\n        <td><div class = "CalendarWidget-iconScrollRight ui-helper-noselect icon-right-open" ></div></td>\n        <td><div class = "CalendarWidget-iconMore {{moreIconClass}}" title = "{{moreIconTitle}}"></div></td>\n        <td><div class = "CalendarWidget-forecast" hidden>{{forecast}}</div></td>\n    </tr><tr>\n        <td></td>\n        <td class = "CalendarWidget-dateBeginInfo"></td>\n        <td class = "CalendarWidget-dateEndInfo"></td>\n        <td></td>\n        <td></td>\n    </tr>\n</table>\n<div class="CalendarWidget-footer"></div>'),t=$.extend({minimized:!0,showSwitcher:!0,dateMax:null,dateMin:null,dateFormat:"dd.mm.yy",name:null},t),this._dateMin=t.dateMin,this._dateMax=t.dateMax,this.dateInterval=t.dateInterval,$el.html(this.template({moreIconClass:t.minimized?"icon-calendar":"icon-calendar-empty",moreIconTitle:t.minimized?_gtxt("CalendarWidget.ExtendedViewTitle"):_gtxt("CalendarWidget.MinimalViewTitle"),forecast:_gtxt("CalendarWidget.forecast")})),this._moreIcon=$el.find(".CalendarWidget-iconMore").toggle(!!t.showSwitcher),this._dateBegin=$el.find(".CalendarWidget-dateBegin"),this._dateEnd=$el.find(".CalendarWidget-dateEnd"),this._dateInputs=this._dateBegin.add(this._dateEnd),$el.find(".CalendarWidget-iconScrollLeft").on("click",function(){d.call(this,-1)}.bind(this)),$el.find(".CalendarWidget-iconScrollRight").on("click",function(){d.call(this,1)}.bind(this)),this._dateInputs.datepicker({onSelect:function(t,e){a.call(this,e.input),s.call(this)}.bind(this),showAnim:"fadeIn",changeMonth:!0,changeYear:!0,minDate:this._dateMin?i(this._dateMin):null,maxDate:this._dateMax?i(this._dateMax):null,dateFormat:t.dateFormat,defaultDate:i(this._dateMax||new Date),showOn:t.buttonImage?"both":"focus",buttonImageOnly:!0}),t.buttonImage&&this._dateInputs.datepicker("option","buttonImage",t.buttonImage),$el.find(".CalendarWidget-onlyMaxVersion").toggle(!t.minimized),t.dateBegin&&this._dateBegin.datepicker("setDate",i(t.dateBegin)),t.dateEnd&&this._dateEnd.datepicker("setDate",i(t.dateEnd)),t.container&&("string"==typeof t.container?$("#"+t.container).append($el):$(t.container).append($el)),o.call(this,t.minimized?1:2),c.call(this),this.dateInterval.on("change",function(){c.call(this)}.bind(this),this),this.canvas=$el}},function(t,e){t.exports=function(t){nsGmx.leafletMap;var e=function(){_data.result=null,this.isDirty=!0,this.update()};return _data={system:"",interval:null,polygon:null,result:null},{set interval(t){var n=this;_data.interval||(_data.interval=t,_data.interval.on("change",(function(){e.call(n)})))},set system(t){_data.system=t,e.call(this)},set polygon(t){_data.polygon=t,e.call(this)},isDirty:!0,get data(){return _data},set data(t){_data=t},update:function(){if(this.isDirty){var t=this;return Promise.resolve().then((function(){t.view.repaint(),t.isDirty=!1}))}},count:function(){var t=this,e=this.data.polygon,n=this.data.system,r=this.data.interval.attributes.dateBegin,i=this.data.interval.attributes.dateEnd,o=new Date(r.getFullYear()-1,r.getMonth(),r.getDate(),r.getHours(),r.getMinutes()),a=new Date(i.getFullYear()-1,i.getMonth(),i.getDate(),i.getHours(),i.getMinutes());if(!e)return Promise.reject("polygon");if(n){var s={WrapStyle:"message",layer:n,query:"Polygon"==e.feature.geometry.type?'intersects([geomixergeojson], GeometryFromGeoJson(\'{"type":"'.concat(e.feature.geometry.type,'","coordinates":[').concat(e.feature.geometry.coordinates.map((function(t){return"[".concat(t.map((function(t){return"[".concat(t[0],",").concat(t[1],"]")})).join(","),"]")})).join(","),"]}', 4326)) and [acqdate]>='").concat(o.toISOString(),"' and [acqdate]<'").concat(a.toISOString(),"'"):'intersects([geomixergeojson], GeometryFromGeoJson(\'{"type":"'.concat(e.feature.geometry.type,'","coordinates":[').concat(e.feature.geometry.coordinates.map((function(t){return"[".concat(t.map((function(t){return"[".concat(t.map((function(t){return"[".concat(t[0],",").concat(t[1],"]")})).join(","),"]")})).join(","),"]")})).join(","),"]}', 4326)) and [acqdate]>='").concat(o.toISOString(),"' and [acqdate]<'").concat(a.toISOString(),"'")};return new Promise((function(e,n){sendCrossDomainPostRequest("".concat(window.serverBase,"/VectorLayer/Search.ashx"),s,(function(n){n.Status&&"ok"==n.Status.toLowerCase()?_data.result=n.Result.values.length:(_data.result=_gtxt("ImageCount.error"),console.log(n)),t.isDirty=!0,t.update(),e()}))}))}return Promise.reject("system")}}}}]);
//# sourceMappingURL=ImageCountPlugin.js.map